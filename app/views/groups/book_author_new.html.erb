<% provide(:title, 'Add author') %>

<div class="container">
  <h1>Add author to book: <%= @book.title %></h1>
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <%= form_with model: @author_book, url: book_authors_create_path(@group, @book), local: true do |f| %>
        <% if @author_book.errors.any? %>
	      <div id="error_explanation">
		    <div class="alert alert-danger">
		      The form contains <%= pluralize(@author_book.errors.count, "error") %>.
		    </div>
		    <ul>
		    <% @author_book.errors.full_messages.each do |msg| %>
		      <li><%= msg %></li>
		    <% end %>
		    </ul>
		  </div>
        <% end %>	

        <%= collection_select(:author_book, :author_id, Author.all, :id, :full_name, {}, class: 'form-control') %>

        <%= f.submit "Add author to book", class: "btn btn-primary" %>
      <% end %>
    </div>
  </div>
</div>